version: '3.6'

services:
  connect-webapp:
    build:
      context: .
      dockerfile: Dockerfile
      args:
        - ROOT_API=${ROOT_API:-http://api-connect.push.al}
        - KEYCLOAK_ISSUER=${KEYCLOAK_ISSUER}
        - KEYCLOAK_AUTHORIZATION_ENDPOINT=${KEYCLOAK_AUTHORIZATION_ENDPOINT}
        - KEYCLOAK_USERINFO_ENDPOINT=${KEYCLOAK_USERINFO_ENDPOINT}
        - KEYCLOAK_END_SESSION_ENDPOINT=${KEYCLOAK_END_SESSION_ENDPOINT}
        - KEYCLOAK_JWKS_URI=${KEYCLOAK_JWKS_URI}
        - KEYCLOAK_TOKEN_ENDPOINT=${KEYCLOAK_TOKEN_ENDPOINT}
        - KEYCLOAK_CHECK_SESSION_IFRAME=${KEYCLOAK_CHECK_SESSION_IFRAME}
        - KEYCLOAK_CLIENT_ID=${KEYCLOAK_CLIENT_ID}
        - KEYCLOAK_REALM=${KEYCLOAK_REALM}
        - HOTJAR_PROJECT_KEY=${HOTJAR_PROJECT_KEY}
        - BOT_URL=${BOT_URL}
        - SENTRY_DSN_ENDPOINT=${SENTRY_DSN_ENDPOINT}
        - HELPHERO=${HELPHERO}
        - URL_ACADEMY=${URL_ACADEMY}
        - BILLING_API_URL=${BILLING_API_URL}
        - MP9_AB_MAPPING_TOKEN=${MP9_AB_MAPPING_TOKEN}
    ports:
      - 8080:8080
